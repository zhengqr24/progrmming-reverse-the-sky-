# progrmming-reverse-the-sky-
贪吃蛇-游戏设计文档
一、游戏规则与核心机制
（一）基本规则
1.移动控制：玩家通过键盘操作蛇的移动方向。
2.食物生成机制：食物随机生成，保证场上始终有10个食物。
3.障碍物生成机制：地图内部随机生成20个障碍物。
4.初始化机制：蛇的初始长度为5，地图大小为200*200
（二）食物分类及效果
1.有害垃圾：标有“十门核心课”字样，吃下去长度-2.5，分数-（关卡序号*0.1+1.0）。
2.厨余垃圾：标有“必修限选课”或“数理基础课”字样，吃下去长度-1，分数-（关卡序号*0.05+0.5）。
3.普通食物：标有“思政课”“军训”“通识课”字样，吃下去长度+1，分数+（关卡序号*0.1+1.0）。
4.美味佳肴：标有“食堂饭菜”字样，吃下去长度+1.5，分数+（关卡序号*0.15+1.25）。
5.顶级美食：标有“海底捞”“炸串”“螺蛳粉”“KFC”“麦当劳”“麻辣烫”字样，吃下去长度*2，分数*2。
（三）食物设置说明
1.每一局的食物随机生成，保证场上一直有10个食物。
2.10个食物中包含1个有害垃圾，2个厨余垃圾，6个普通食物，1个美味佳肴或1个顶级美食（美味佳肴生成的概率为0.8，顶级美食生成的概率为0.2）。
（四）碰撞检测
1.蛇头撞到障碍物会死亡。
2.蛇的长度低于0或者分数低于-10也会死亡。
（五）得分与胜负判定
3.得分计算：根据食物类型和关卡序号计算得分。
4.游戏结束条件：蛇死亡或达到关卡要求。
（六）单人模式
1.操作：使用`wsad`键操作蛇的上下左右移动。
2.规则：吃到不同食物有相应效果，蛇头撞到障碍物会死亡。
3.关卡设置：总共有20个关卡，每个关卡限时（关卡序号*5+25秒），蛇的速度随关卡增加而变快。
4.通关条件：在关卡时间内达到相应分数（关卡序号*10）。
5.难度设置：总体难度分为容易，简单，中等，困难，地狱五个等级
容易：蛇的初始速度为1s走0.5个单位长度，随着关卡提升蛇的速度为（关卡序号*0.25+0.25）个长度/s.
简单：蛇的初始速度为1s走1.0个单位长度，随着关卡提升蛇的速度为（关卡序号*0.5+0.5）个长度/s.
中等：蛇的初始速度为1s走1.5个单位长度，随着关卡提升蛇的速度为（关卡序号*0.75+0.75）个长度/s.
困难：蛇的初始速度为1s走2.0个单位长度，随着关卡提升蛇的速度为（关卡序号*1.0+1.0）个长度/s.
地狱：蛇的初始速度为1s走2.5个单位长度，随着关卡提升蛇的速度为（关卡序号*1.25+1.25）个长度/s.
（七）双人模式
1.操作：A玩家使用`wsad`键，B玩家使用箭头键操作。
2.规则：在规定时间（120秒）内比较分数高低，长度长的玩家可以吃掉长度短的玩家
3.胜利条件：分数高者获胜，或长蛇吃掉短蛇。
4.初始化设置：地图以及蛇的长度与单人模式的初始化设置一样，双人模式也可以选择五个初始化的难度
容易：蛇的初始速度为1s走1.5个单位长度.
简单：蛇的初始速度为1s走2.5个单位长度.
中等：蛇的初始速度为1s走3.5个单位长度.
困难：蛇的初始速度为1s走4.5个单位长度.
地狱：蛇的初始速度为1s走5.0个单位长度.
二、游戏界面设计
（一）游戏画面
1.布局：网格布局。
2.图形表现：蛇和食物的图形设计。
3.得分/等级/时间显示：实时显示当前得分，当前距离游戏结束的剩余时间和关卡序号信息。
4.背景风格：电子系主题地图。
5.动态背景：流动的Verilog代码墙和周期性刷新的真值表。
（二）地形特征
1.二进制河流：流动的0/1字符串，逆向游动可触发隐藏关卡。
2.傅里叶变换草地：随时间变化的空间频率分布。
3.晶体管森林：周期性翻转导通方向的NPN/PNP造型障碍物。
（三）交互界面
1.开始菜单：提供游戏开始、设置等选项，让玩家选择单人或双人模式，并且进一步让玩家选择皮肤。
2.暂停/继续：游戏过程中可暂停或继续。
3.游戏结束界面：显示最终得分和游戏结果。
（四）电子系交互场景
1.代码熔炉：投入障碍物可熔炼成随机技能。
2.实验台传送门：需按特定顺序触碰元件激活。
3.电流湖泊：进入后蛇身变成电子流形态，速度×2但持续掉分。
（五）动态环境机制
1.编译时间：每吃够8个食物，障碍物重组为新的电路结构。
2.超频模式：连续破坏障碍触发，蛇速逐渐提升直至碰撞。
三、技术实现
（一）编程语言与框架
1.开发语言工具：C++，html。
2.游戏循环：实现游戏的核心逻辑循环。
3.数据结构与算法：蛇身体的存储方式、食物生成算法、输入事件处理等。
（二）关键功能实现
1.蛇的移动逻辑：实现蛇的移动和方向控制。
2.碰撞检测算法：检测蛇与障碍物、食物的碰撞。
3.音效与视觉增强：
(1).界面音效：采用示波器扫描声和电子合成音。
(2).技能特效：使用GLSL着色器实现傅里叶变换视觉效果。
(3).数据展示：在死亡界面显示当局游戏的「信号波形图」。
（三）可扩展性与优化
1.功能扩展：
(1).难度分级：提供不同难度等级，蛇的初始速度和关卡速度递增规则不同。
(2).特殊道具：增加特殊道具，如离散数学课本、示波器探头、焊锡丝等。
(3).关卡设计：设计多样化的关卡，增加动态天气系统和可破坏地形系统。
2.动态天气系统：
(1).晴天：概率60%，正常游戏。
(2).雨：概率20%，蛇速增加30%，持续15秒，地面出现反光水洼特效。
(3).雪：概率15%，蛇速降低30%，持续20秒，屏幕边缘增加积雪特效。
(4).雷电：概率5%，每道闪电（3秒间隔）随机劈中地图区域（范围2*2），被击中则蛇身长度-3，同时生成“电磁干扰区”。
3.可破坏地形系统：
(1).木箱：碰撞消耗蛇身长度-1。
(2).玻璃墙：需连续碰撞3次。
(3)高压电箱：碰撞触发全屏电磁脉冲。
(4).电子元件障碍：电容器（碰撞后2秒延迟爆炸，范围5*5，爆炸之后若蛇的身体有某部分在爆炸范围之内立即死亡）、逻辑门（需按特定顺序碰撞）。
4.生物系统-猎鹰机制：
(1).预警系统：出现前3秒地面出现逐渐扩大的阴影圈，伴随鹰啸声。
(2).猎鹰俯冲：在顶部1/3屏幕区域随机生成，持续盘旋5秒。
(3).风险回报：俯冲期间该区域出现「量子果实」（+20分）概率提升至80%。
(4).逃生机制：在俯冲结束前离开红圈区域可获得「电磁护盾」（抵挡1次雷电）。
5.皮肤系统
(1).晶体管皮肤：外观为蓝紫渐变的半导体纹理，雷电天气蛇身长度减少的惩罚变为减少1.5的蛇身长度。
(2).光纤皮肤：外观为流光溢彩的玻璃纤维质感，雪天移动时留下光轨（触碰光轨可+0.5分/蛇身单位长度）。
(3).PCB皮肤：外观为绿色电路板纹路+金色焊点，破坏障碍时25%概率不消耗长度。
6.特殊技能食物系统：
(1).离散数学课本：获得3秒「布尔屏障」（无视所有逻辑门障碍），特效为周身出现旋转的逻辑运算符（∧ ∨ ¬ →）。
(2).示波器探头：进入5秒「采样模式」（蛇身变成离散点阵可穿墙）。
(3).焊锡丝：将最近3个障碍物焊接成可通行桥梁（持续7秒）。
(4).电磁场教材：生成环绕蛇头的洛伦兹力场（弹开周围障碍物）。
（四）性能优化
(1)兼容性：确保游戏在不同设备和操作系统（Windows,macos,Linux）上的兼容性。
